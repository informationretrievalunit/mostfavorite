(function(e){function t(t){for(var s,c,l=t[0],a=t[1],r=t[2],g=0,u=[];g<l.length;g++)c=l[g],Object.prototype.hasOwnProperty.call(i,c)&&i[c]&&u.push(i[c][0]),i[c]=0;for(s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s]);h&&h(t);while(u.length)u.shift()();return o.push.apply(o,r||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],s=!0,l=1;l<n.length;l++){var a=n[l];0!==i[a]&&(s=!1)}s&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var s={},i={app:0},o=[];function c(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=s,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)c.d(n,s,function(t){return e[t]}.bind(null,s));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],a=l.push.bind(l);l.push=t,l=l.slice();for(var r=0;r<l.length;r++)t(l[r]);var h=a;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0091":function(e,t,n){"use strict";n("a11e")},"24e8":function(e,t,n){"use strict";n("4791")},4791:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);var s=n("7a23"),i=n("fd0c"),o=n.n(i);const c={id:"loading"},l=Object(s["f"])("img",{id:"rotor",src:o.a,alt:"loading..."},null,-1),a={id:"mini_details",style:{width:"100%",height:"100vh",position:"fixed","z-index":"8"}},r={style:{display:"flex","flex-direction":"column",width:"100vw",height:"100%",overflow:"auto","font-weight":"600"}},h={style:{padding:"1vh 1vh 1vw 1vw","background-color":"goldenrod",color:"black"}},g={style:{padding:"1vh 1vh 1vw 1vw","background-color":"black",color:"goldenrod"}},u={style:{padding:"1vh 1vh 1vw 1vw","background-color":"goldenrod",color:"black"}},d={style:{padding:"1vh 1vh 1vw 1vw","background-color":"black",color:"goldenrod","text-align":"justify",display:"flex","flex-wrap":"wrap","flex-direction":"row","justify-content":"space-around"}},b={style:{padding:"1vh 1vh 1vw 1vw","background-color":"goldenrod",color:"black"}},p={id:"details",style:{height:"calc(1.48 * 18.5vw)",width:"auto",left:"50%",top:"30%",transform:"translate(-50%)",position:"fixed","z-index":"8"}},O={style:{display:"flex","flex-direction":"row","justify-content":"space-around",height:"100%"}},j={style:{height:"100%"}},f={style:{height:"100%"}},v={style:{height:"100%",width:"auto"}},y={style:{height:"10%"}},m=Object(s["f"])("th",null,[Object(s["f"])("span",null,"Title: ")],-1),w={colspan:"5"},k={style:{height:"10%"}},x=Object(s["f"])("th",null,[Object(s["f"])("span",null,"Genre: ")],-1),C={style:{},colspan:"5"},P={style:{height:"60%","text-align":"justify"}},S=Object(s["f"])("th",null,[Object(s["f"])("span",null,"Short: ")],-1),$={colspan:"5"},L={style:{overflow:"auto"}},E={style:{height:"10%"}},M=Object(s["f"])("th",null,[Object(s["f"])("span",null,"Guide: ")],-1),T={style:{"white-space":"nowrap"}},_={style:{height:"10%"}},q=Object(s["f"])("th",null,[Object(s["f"])("span",null,"More: ")],-1),A={colspan:"5"},D=Object(s["f"])("div",{id:"paper"},null,-1),N=Object(s["f"])("div",{id:"gap"},null,-1),J={id:"nav"},I={class:"column"},G=Object(s["f"])("div",{class:"title"},"INCLUDE",-1),H={class:"column"},U=Object(s["f"])("div",{class:"title"},"EXCLUDE",-1),z={class:"column"},F=Object(s["f"])("div",{class:"title"},"FILTERS",-1),V=Object(s["f"])("div",{style:{"min-height":"4.7vh"}},null,-1),K=Object(s["f"])("div",{class:"title"},"TYPE",-1),R={id:"inventory"},X={class:"paginationContainer"},Y={class:"paginationGap"},Z={class:"paginationGap"};function B(e,t,n,i,o,B){const Q=Object(s["v"])("router-view");return Object(s["o"])(),Object(s["d"])("div",null,[Object(s["C"])(Object(s["f"])("div",c,[l],512),[[s["A"],o.loading]]),Object(s["C"])(Object(s["f"])("div",a,[Object(s["f"])("button",{style:{position:"absolute",right:"0",top:"0","background-color":"rgba(0,0,0,0.5)",padding:"1vw",border:"none"},class:"popping",onClick:t[1]||(t[1]=(...e)=>B.clearDetails&&B.clearDetails(...e))},"❌"),Object(s["f"])("div",r,[Object(s["f"])("div",null,[Object(s["f"])("img",{src:o.details.image,alt:"image",style:{width:"100vw",height:"auto"}},null,8,["src"])]),Object(s["f"])("div",h,[Object(s["f"])("span",null,Object(s["x"])(o.details.title),1)]),Object(s["f"])("div",g,[(Object(s["o"])(!0),Object(s["d"])(s["a"],null,Object(s["u"])(o.details.genre,(e,t)=>(Object(s["o"])(),Object(s["d"])("span",{key:t},Object(s["x"])(e[0].toUpperCase()+e.substring(1)+" "),1))),128))]),Object(s["f"])("div",u,[Object(s["f"])("span",null,Object(s["x"])(o.details.short),1)]),Object(s["f"])("div",d,[(Object(s["o"])(!0),Object(s["d"])(s["a"],null,Object(s["u"])(o.filters,(e,t)=>(Object(s["o"])(),Object(s["d"])("div",{style:{padding:"0 0 1vw 1vw"},key:t},Object(s["x"])(e+": "+o.details[e[0].toLowerCase()+e.substring(1)]+" "),1))),128))]),Object(s["f"])("div",b,[Object(s["f"])("a",{href:"https://www.imdb.com/title/tt"+o.details._id},"Go to IMDb?",8,["href"])])])],512),[[s["A"],o.details]]),Object(s["C"])(Object(s["f"])("div",p,[Object(s["f"])("button",{style:{position:"absolute",right:"0",top:"0","background-color":"transparent",height:"12.5%","padding-right":"1vw",border:"none"},class:"popping",onClick:t[2]||(t[2]=(...e)=>B.clearDetails&&B.clearDetails(...e))},"❌"),Object(s["f"])("div",O,[Object(s["f"])("div",j,[Object(s["f"])("img",{src:o.details.image,alt:"image",style:{height:"100%",width:"auto"}},null,8,["src"])]),Object(s["f"])("div",f,[Object(s["f"])("table",v,[Object(s["f"])("tr",y,[m,Object(s["f"])("td",w,[Object(s["f"])("span",null,Object(s["x"])(o.details.title),1)])]),Object(s["f"])("tr",k,[x,Object(s["f"])("td",C,[(Object(s["o"])(!0),Object(s["d"])(s["a"],null,Object(s["u"])(o.details.genre,(e,t)=>(Object(s["o"])(),Object(s["d"])("span",{key:t},Object(s["x"])(e[0].toUpperCase()+e.substring(1)+" "),1))),128))])]),Object(s["f"])("tr",P,[S,Object(s["f"])("td",$,[Object(s["f"])("span",L,Object(s["x"])(o.details.short),1)])]),Object(s["f"])("tr",E,[M,(Object(s["o"])(!0),Object(s["d"])(s["a"],null,Object(s["u"])(o.filters,(e,t)=>(Object(s["o"])(),Object(s["d"])("td",{style:{},colspan:"1",key:t},[Object(s["f"])("span",T,Object(s["x"])(e+": "+o.details[e[0].toLowerCase()+e.substring(1)]),1)]))),128))]),Object(s["f"])("tr",_,[q,Object(s["f"])("td",A,[Object(s["f"])("a",{href:"https://www.imdb.com/title/tt"+o.details._id},"Go to IMDb?",8,["href"])])])])])])],512),[[s["A"],o.details]]),D,N,Object(s["f"])("div",J,[Object(s["C"])(Object(s["f"])("input",{id:"search","onUpdate:modelValue":t[3]||(t[3]=e=>o.toSearch=e),onKeyup:t[4]||(t[4]=Object(s["D"])((...e)=>B.search&&B.search(...e),["enter"])),placeholder:"use space to separate words",disabled:o.loading},null,40,["disabled"]),[[s["z"],o.toSearch]]),Object(s["f"])("button",{id:"menu",class:o.menu,onClick:t[5]||(t[5]=(...e)=>B.switchMenu&&B.switchMenu(...e))},"menu",2)]),Object(s["f"])("div",{class:["expandable",o.menu]},[Object(s["f"])("div",I,[G,(Object(s["o"])(!0),Object(s["d"])(s["a"],null,Object(s["u"])(o.tags,(e,n)=>(Object(s["o"])(),Object(s["d"])("button",{class:["toggle","string"===typeof e&&this.toggled.includes(e.toLocaleLowerCase())?"positive":"passive"],key:n,onClick:t[6]||(t[6]=e=>this.toggle("include",e))},Object(s["x"])(e),3))),128))]),Object(s["f"])("div",H,[U,(Object(s["o"])(!0),Object(s["d"])(s["a"],null,Object(s["u"])(o.tags,(e,n)=>(Object(s["o"])(),Object(s["d"])("button",{class:["toggle","string"===typeof e&&this.toggled.includes("!"+e.toLocaleLowerCase())?"negative":"passive"],key:n,onClick:t[7]||(t[7]=e=>this.toggle("exclude",e))},Object(s["x"])(e),3))),128))]),Object(s["f"])("div",z,[F,(Object(s["o"])(!0),Object(s["d"])(s["a"],null,Object(s["u"])(o.filters,(e,n)=>(Object(s["o"])(),Object(s["d"])("button",{class:["toggle","string"===typeof e&&this.toggled.includes(e.toLocaleLowerCase())?"enabled":"passive"],key:n,onClick:t[8]||(t[8]=e=>this.toggle("filters",e))},Object(s["x"])(e),3))),128)),V,K,Object(s["f"])("button",{class:["toggle",this.toggled.includes("switched")?"switched":"passive"],onClick:t[9]||(t[9]=e=>this.toggle("type",e))},"🎬➔🕹️",2)])],2),Object(s["f"])("div",R,[(Object(s["o"])(!0),Object(s["d"])(s["a"],null,Object(s["u"])(o.inventory,(e,t)=>(Object(s["o"])(),Object(s["d"])("div",{class:"item",key:t,onClick:t=>B.setDetails(e)},[Object(s["f"])("img",{class:"image",src:e.image,alt:e.title},null,8,["src","alt"])],8,["onClick"]))),128))]),Object(s["C"])(Object(s["f"])("div",X,[Object(s["C"])(Object(s["f"])("button",{class:"paginationElement",onClick:t[10]||(t[10]=e=>this.goToPage(this.currentPage()-1))},"Prev",512),[[s["A"],1!==this.currentPage()]]),Object(s["C"])(Object(s["f"])("button",{class:"paginationElement",onClick:t[11]||(t[11]=e=>this.goToPage(1))},Object(s["x"])(1),512),[[s["A"],!this.pages.includes(1)]]),Object(s["C"])(Object(s["f"])("div",Y,"...",512),[[s["A"],!this.pages.includes(1)]]),(Object(s["o"])(!0),Object(s["d"])(s["a"],null,Object(s["u"])(this.pages,(e,t)=>Object(s["C"])((Object(s["o"])(),Object(s["d"])("button",{class:this.currentPage()===e?"paginationCurrent":"paginationElement",onClick:t=>this.goToPage(e),key:t},Object(s["x"])(e),11,["onClick"])),[[s["A"],this.pages.length>1]])),128)),Object(s["C"])(Object(s["f"])("div",Z,"...",512),[[s["A"],!this.pages.includes(this.lastPage())]]),Object(s["C"])(Object(s["f"])("button",{class:"paginationElement",onClick:t[12]||(t[12]=e=>this.goToPage(this.lastPage()))},Object(s["x"])(this.lastPage()),513),[[s["A"],!this.pages.includes(this.lastPage())]]),Object(s["C"])(Object(s["f"])("button",{class:"paginationElement",onClick:t[13]||(t[13]=e=>this.goToPage(this.currentPage()+1))},"Next",512),[[s["A"],this.currentPage()!==this.lastPage()]])],512),[[s["A"],o.count]]),Object(s["f"])(Q)])}var Q=n("bc3a"),W=n.n(Q),ee={name:"App",components:{},data(){return{details:!1,toggled:[],tags:[],filters:["Fear","Nudity","Violence","Profanity","Substance"],toSearch:"",menu:"passive",inventory:[],count:0,skips:0,limit:0,range:2,pages:[],loading:!1}},computed:{},methods:{goToPage(e){const t=JSON.parse(JSON.stringify(this.$route.query));t["skip"]=(e-1)*this.limit,this.$router.push({name:"Home",query:t})},resetPages(){this.pages.length=0;const e=this.currentPage(),t=this.lastPage(),n=1-(e-this.range),s=e+this.range-t;let i=1;n<0&&(i-=n);let o=t;s<0&&(o+=s),n>0&&s<0&&(o=Math.min(t,o+n)),s>0&&n<0&&(i=Math.max(1,i-s));for(let c=i;c<=o;c++)this.pages.push(c)},lastPage(){return Math.ceil(this.count/this.limit)},currentPage(){return Math.floor(this.skips/this.limit)+1},clearDetails(){this.details=!1},setDetails(e){this.details=e},switchMenu(e){"/"===this.$route.path?"active"===this.menu?this.menu="passive":(this.clearDetails(),this.menu="active"):this.menu="passive"},toggle(e,t){if(!this.loading)try{const n=JSON.parse(JSON.stringify(this.$route.query));let s=t.target.innerHTML.toLocaleLowerCase();"type"===e?(this.skips=0,"type"in n&&"game"===n.type?n.type="film":n.type="game"):"include"===e?(this.skips=0,"genre"in n&&n.genre.includes(s)?(n.genre=n.genre.replace(","+s,""),n.genre=n.genre.replace(s+",",""),n.genre=n.genre.replace(s,""),n.genre.length||delete n["genre"]):("genre"in n||(n.genre=""),n.genre.length>0&&(n.genre+=","),n.genre+=s,"notgenre"in n&&(n.notgenre=n.notgenre.replace(","+s,""),n.notgenre=n.notgenre.replace(s+",",""),n.notgenre=n.notgenre.replace(s,""),n.notgenre.length||delete n["notgenre"]))):"exclude"===e?(this.skips=0,"notgenre"in n&&n.notgenre.includes(s)?(n.notgenre=n.notgenre.replace(","+s,""),n.notgenre=n.notgenre.replace(s+",",""),n.notgenre=n.notgenre.replace(s,""),n.notgenre.length||delete n["notgenre"]):("notgenre"in n||(n.notgenre=""),n.notgenre.length>0&&(n.notgenre+=","),n.notgenre+=s,"genre"in n&&(n.genre=n.genre.replace(","+s,""),n.genre=n.genre.replace(s+",",""),n.genre=n.genre.replace(s,""),n.genre.length||delete n["genre"]))):(this.skips=0,s in n?delete n[s]:n[s]="0"),this.$router.push({name:"Home",query:n})}catch(n){this.menu="passive",this.inventory.length=0,this.count=0,this.pages.length=0,this.$router.push({path:"/oops"})}},resetToggled(){this.toggled.length=0,Object.keys(this.$route.query).forEach(e=>{if("type"===e&&"game"===this.$route.query["type"]&&this.toggled.push("switched"),"genre"===e){const e=this.$route.query["genre"].split(",");e.forEach(e=>{this.toggled.push(e)})}else if("notgenre"===e){const e=this.$route.query["notgenre"].split(",");e.forEach(e=>{this.toggled.push("!"+e)})}else if("search"!==e)this.toggled.push(e);else if("search"===e){let e="";const t=this.$route.query["search"].split(",");for(let n=t.length-1;n>=0;n--)e+=t[n]+" ";e.length&&(e=e.substr(0,e.length-1)),this.toSearch=e}})},search(e){try{const e=this.toSearch.split(/\s|[^a-zA-Z0-9_]/);let t="";for(let s=e.length-1;s>=0;s--)e[s].length?(t.length&&(t+=","),t+=e[s]):e.splice(s,1);const n=JSON.parse(JSON.stringify(this.$route.query));n["search"]=t,this.$router.push({name:"Home",query:n})}catch(t){this.menu="passive",this.inventory.length=0,this.count=0,this.pages.length=0,this.$router.push({path:"/oops"})}},async fetchFor(e,t){await W.a.post(e,t).then(e=>{this.inventory=e.data["items"],this.count=e.data["count"],this.tags=e.data["tags"],this.limit=e.data["limit"],"skip"in this.$route.query?this.skips=parseInt(this.$route.query["skip"]):this.skips=0,this.resetPages()}).catch(e=>{console.log(e),this.menu="passive",this.inventory.length=0,this.count=0,this.pages.length=0,this.$router.push({path:"/oops"})})}},watch:{$route(e,t){this.loading=!0,this.clearDetails(),this.inventory.length=0,this.count=0,this.pages.length=0,this.resetToggled();const n=this.$route.path;if("/"!==n)return this.menu="passive",void(this.loading=!1);let s="";s="/",this.fetchFor(s,this.$route.query).then(e=>{this.loading=!1}).catch(e=>{this.menu="passive",this.loading=!1})}}};n("7715");ee.render=B;var te=ee,ne=n("6c02");const se=Object(s["E"])("data-v-29db8ae7");Object(s["r"])("data-v-29db8ae7");const ie={class:"home"};Object(s["p"])();const oe=se((e,t,n,i,o,c)=>(Object(s["o"])(),Object(s["d"])("div",ie)));var ce={name:"Home",props:[]};n("0091");ce.render=oe,ce.__scopeId="data-v-29db8ae7";var le=ce;const ae=Object(s["E"])("data-v-949b321e");Object(s["r"])("data-v-949b321e");const re={class:"lost"},he=Object(s["f"])("p",{style:{color:"white"}},"Something went wrong!",-1),ge=Object(s["e"])("Try reconnecting?");Object(s["p"])();const ue=ae((e,t,n,i,o,c)=>{const l=Object(s["v"])("router-link");return Object(s["o"])(),Object(s["d"])("div",re,[he,Object(s["f"])(l,{to:"/"},{default:ae(()=>[ge]),_:1})])});var de={name:"Lost"};n("24e8");de.render=ue,de.__scopeId="data-v-949b321e";var be=de;const pe=[{path:"/",name:"Home",component:le},{path:"/oops",name:"Lost",component:be},{path:"/:catchAll(.*)",redirect:"/oops"}],Oe=Object(ne["a"])({history:Object(ne["b"])(),routes:pe});var je=Oe;Object(s["c"])(te).use(je).mount("#app")},7715:function(e,t,n){"use strict";n("dcf4")},a11e:function(e,t,n){},dcf4:function(e,t,n){},fd0c:function(e,t,n){e.exports=n.p+"img/loading.217e6cc5.svg"}});
//# sourceMappingURL=app.f67be19f.js.map